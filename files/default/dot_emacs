;;; .init.el --- init config emacs

;;; Commentary:
;;;; Author: kakakikikeke
;;;; Version: 0.1

;;; Code:
; for load init script
(add-to-list 'load-path "~/.emacs.d/site-lisp")
(load "init.el")

; for some keybinds
(global-set-key "\C-\\" 'undo)
(global-unset-key "\C-h")
(global-set-key "\C-h" 'delete-backward-char)
(global-set-key "\M-g" 'goto-line)
(global-set-key "\M-s" 'replace-string)
(global-unset-key "\C-xh")
(global-set-key "\M-a" 'mark-whole-buffer)
(global-unset-key "\C-x3")
(global-set-key "\C-x5" 'split-window-horizontally)
(global-unset-key "\C-o")
(global-set-key "\C-o" 'other-window)
(global-unset-key "\C-]")
(global-set-key "\C-]" 'next-buffer)
(global-set-key "\C-c\C-x" 'eval-buffer)
(global-set-key (kbd "C-t") 'dabbrev-expand)
(define-key minibuffer-local-map (kbd "C-t") 'dabbrev-expand)
(global-set-key "\C-x;" 'anything)
(global-set-key "\C-c\C-n" 'flycheck-next-error)
(global-set-key "\C-c\C-p" 'flycheck-previous-error)

; for electric-indent
(electric-indent-mode 0)
(setq truncate-lines t)
(setq truncate-partial-width-windows t)

; for end character
(set-display-table-slot standard-display-table 'wrap ? )

; for backup folder
(setq backup-directory-alist '(("" . "~/.emacs.d/backup")))

; for highlight
(global-hl-line-mode)

; for number of character selected region
(line-number-mode t)
(column-number-mode t)
(defun count-lines-and-chars ()
  (if mark-active
      (format "[%3d:%4d]"
	      (count-lines (region-beginning) (region-end))
	      (- (region-end) (region-beginning)))
    ""))
(add-to-list 'default-mode-line-format '(:eval (count-lines-and-chars)))

; for igonre case sensitive
(custom-set-variables '(read-file-name-completion-ignore-case t))

; for clipborad
(setq sysname system-type)
(if (eq sysname 'darwin)
    (let
      (defun copy-from-osx ()
	(shell-command-to-string "pbpaste"))
      (defun paste-to-osx (text &optional push)
	(let ((process-connection-type nil))
	  (let ((proc (start-process "pbcopy" "*Messages*" "pbcopy")))
	    (process-send-string proc text)
	    (process-send-eof proc))))
      (setq interprogram-cut-function 'paste-to-osx)
      (setq interprogram-paste-function 'copy-from-osx)
    )
    (message "This platform is not mac")
)

;;; .emacs ends here
